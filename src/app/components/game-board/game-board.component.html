<div class="game-board" [ngClass]="{'won': gameState === EGameState.WON, 'lost': gameState === EGameState.LOST}">

  <div class="state-msg" *ngIf="gameState !== EGameState.PLAYING" role="dialog" aria-labelledby="state-msg-img">
    <img id="state-msg-img" *ngIf="gameState === EGameState.WON" src="./assets/trophy.svg" alt="winner image">
  </div>

  <table [ngClass]="{'large-board': data.columns > 15}">
    <thead>
      <tr>
        <td></td>
        <th *ngFor="let label of axesLabels.x" class="game-board-axes">{{label}}</th>
      </tr>
    </thead>

    <tbody>
      <tr class="game-board-row" *ngFor="let row of rows; trackBy: trackByFn; index as rowI">
        <th class="game-board-axes">{{axesLabels.y[rowI]}}</th>

        <ng-container *ngFor="let square of boardSquaresArr; index as squareI">
          <td *ngIf="squareI | matrixPipe : rowI : data.columns" class="game-board-row-square">

            <button (click)="!square.isClicked && squareClicked(squareI, square.shipId, square.shipSize)"
              [disabled]="gameState !== EGameState.PLAYING" class="game-board-row-square-btn"
              [ngClass]="{'ship': square.isShip, 'clicked': square.isClicked}"
              [attr.aria-label]="square.isClicked ? (square.isShip ? 'ship clicked' : 'square clicked') : ''"
              [attr.aria-disabled]="square.isClicked">

              <ng-container
                *ngIf="gameState === EGameState.PLAYING && square.isFirstSquareOfShip && !square.isShipSunk">
                <img class="ship-img" [src]="square.shipSize | getIcon" alt="ship icon"
                  [style.width]="102 * square.shipSize + '%'"
                  [ngClass]="{'vertical': square.isVertical, 'xs' : square.shipSize === 1, 'small' : square.shipSize === 2}">
              </ng-container>

              <img class="boom-img" *ngIf="gameState === EGameState.PLAYING && square.isShip && square.isClicked;"
                src="./assets/boom.png" alt="boom icon">
            </button>
          </td>
        </ng-container>

      </tr>
    </tbody>
  </table>

</div>